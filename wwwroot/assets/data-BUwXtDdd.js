import{c as w,o as G,i as l,a as u,b as H,s as J,F as f,S as m,m as N,r as L,t as a,d as Q,e as U,f as V,g as X}from"./index-CLvaN2gA.js";var Z=a("<div style=padding:10px><h1>Please select table"),ee=a("<div style=padding:10px><h2>Please select partition"),te=a('<button class="btn btn-success"style=margin:5px>Select partition'),le=a('<table class="table table-striped"><thead><tr><th></th></tr></thead><tbody>'),ne=a('<div class=dialog-pad><div class=dialog-window><div class=dialog-header><h4 style=margin:0;padding:0>Please confirm you want to delete entity</h4></div><div class=dialog-content><div><div><b>Please confirm that you want to delete that record</b></div><div>PartitionKey: <b></b></div><div>RowKey: <b></b></div></div></div><div class=dialog-footer><div class=btn-group style="box-shadow:0 0 6px #0000002e"><button class="btn btn-sm btn-warning"style="padding:5px 15px">Delete</button><button class="btn btn-sm btn-outline-dark"style="padding:5px 15px">Cancel'),re=a("<section><div class=tables></div><div class=table-data>"),ie=a("<div class=table-item>"),ae=a("<h2>No records in this table"),se=a('<span class="badge text-bg-secondary"style=margin-right:5px;cursor:pointer>'),de=a("<th>"),oe=a("<tr><th style=width:18px><img src=/ico/delete.svg style=height:16px;cursor:pointer>"),ce=a("<td><div class=table-row>");function be(){const[s,n]=w([]),[t,i]=w(""),[o,$]=w(null),[P,D]=w(null),[K,p]=w(new y([],[])),[v,R]=w(null);G(()=>{ue(n)});const W=d=>{i(c=>d),$(c=>null),D(c=>null),p(c=>new y([],[])),he(d,D,$,p)},Y=d=>{$(h=>d);let c=t();p(h=>new y([],[])),I(c,d,p)},j=async(d,c)=>{let h=t();await L(h,d,c),p(e=>new y([],[])),I(h,d,p),R(e=>null)};return(()=>{var d=re(),c=d.firstChild,h=c.nextSibling;return l(c,u(f,{get each(){return s()},children:e=>(()=>{var r=ie();return r.$$click=()=>W(e.name),l(r,()=>e.name),H(_=>J(r,"background",e.name===t()?"lightgreen":"white")),r})()})),l(h,u(m,{get when(){return t().length==0},get children(){return Z()}}),null),l(h,u(m,{get when(){return N(()=>t().length>0)()&&!o()},get children(){return u(m,{get when(){return P()?.data.length??!1},get fallback(){return ae()},get children(){var e=ee();return e.firstChild,l(e,u(f,{get each(){return P()?.data},children:r=>(()=>{var _=se();return _.$$click=()=>Y(r),l(_,r),_})()}),null),e}})}}),null),l(h,u(m,{get when(){return N(()=>t().length>0)()&&o()},get children(){return[(()=>{var e=te();return e.$$click=()=>{$(r=>null)},e})(),(()=>{var e=le(),r=e.firstChild,_=r.firstChild;_.firstChild;var x=r.nextSibling;return l(_,u(f,{get each(){return K().headers},children:b=>(()=>{var g=de();return l(g,b),g})()}),null),l(x,u(f,{get each(){return K().rows},children:b=>(()=>{var g=oe(),S=g.firstChild,T=S.firstChild;return T.$$click=()=>R(C=>({partitionKey:b[O].toString(),rowKey:b[A].toString()})),l(g,u(f,{get each(){return K().headers},children:C=>{let q=b[C]?.toString()??"";return(()=>{var k=ce(),E=k.firstChild;return l(E,q),k})()}}),null),g})()})),e})()]}}),null),l(h,u(m,{get when(){return v()},get children(){var e=ne(),r=e.firstChild,_=r.firstChild,x=_.nextSibling,b=x.firstChild,g=b.firstChild,S=g.nextSibling,T=S.firstChild,C=T.nextSibling,q=S.nextSibling,k=q.firstChild,E=k.nextSibling,M=x.nextSibling,z=M.firstChild,F=z.firstChild,B=F.nextSibling;return l(C,()=>v()?.partitionKey),l(E,()=>v()?.rowKey),F.$$click=()=>j(v()?.partitionKey,v()?.rowKey),B.$$click=()=>{R(ge=>null)},e}}),null),d})()}async function ue(s){let n=await X();s(t=>n)}class y{rows;headers;constructor(n,t){this.rows=t,this.headers=n}}async function he(s,n,t,i){let o=await Q(s);if(o.data.length==1){let $=o.data[0];t(P=>o.data[0]),await I(s,$,i)}n($=>o)}async function I(s,n,t){let i=await U(s,n);t(o=>new y(_e(i),i))}const O="PartitionKey",A="RowKey";function _e(s){let n=[O,A,"TimeStamp"];for(let t of s)for(let i of Object.keys(t))i==O||i==A||i=="TimeStamp"||n.findIndex(o=>o==i)==-1&&n.push(i);return n}V(["click"]);export{be as default};
