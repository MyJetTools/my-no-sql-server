import{c as g,o as F,i as a,a as c,b as j,s as A,F as $,S as b,m as C,t as s,r as I,d as M,e as N,f as O}from"./index-DU9wQie1.js";var z=s("<h1>Please select table"),B=s("<h2>Please select partition"),D=s('<button class="btn btn-success"style=margin-bottom:5px>Select partition'),G=s('<table class="table table-striped"><thead><tr></tr></thead><tbody>'),H=s("<section><div class=tables></div><div class=table-data>"),J=s("<div class=table-item>"),L=s("<h2>No records in this table"),Q=s('<span class="badge text-bg-secondary"style=margin-right:5px;cursor:pointer>'),U=s("<th>"),V=s("<tr>"),W=s("<td><div class=table-row>");function re(){const[i,t]=g([]),[e,n]=g(""),[d,p]=g(null),[v,S]=g(null),[m,y]=g(new f([],[]));F(()=>{X(t)});const x=o=>{n(u=>o),p(u=>null),S(u=>null),Y(o,S)},R=o=>{p(h=>o);let u=e();y(h=>new f([],[])),Z(u,o,y)};return(()=>{var o=H(),u=o.firstChild,h=u.nextSibling;return a(u,c($,{get each(){return i()},children:r=>(()=>{var l=J();return l.$$click=()=>x(r.name),a(l,()=>r.name),j(k=>A(l,"background",r.name===e()?"lightgreen":"white")),l})()})),a(h,c(b,{get when(){return e().length==0},get children(){return z()}}),null),a(h,c(b,{get when(){return C(()=>e().length>0)()&&!d()},get children(){return c(b,{get when(){return v()?.data.length??!1},get fallback(){return L()},get children(){return[B(),c($,{get each(){return v()?.data},children:r=>(()=>{var l=Q();return l.$$click=()=>R(r),a(l,r),l})()})]}})}}),null),a(h,c(b,{get when(){return C(()=>e().length>0)()&&d()},get children(){return[(()=>{var r=D();return r.$$click=()=>{p(l=>null)},r})(),(()=>{var r=G(),l=r.firstChild,k=l.firstChild,T=l.nextSibling;return a(k,c($,{get each(){return m().headers},children:w=>(()=>{var _=U();return a(_,w),_})()})),a(T,c($,{get each(){return m().rows},children:w=>(()=>{var _=V();return a(_,c($,{get each(){return m().headers},children:q=>{let K=w[q]?.toString()??"";return(()=>{var P=W(),E=P.firstChild;return a(E,K),P})()}})),_})()})),r})()]}}),null),o})()}async function X(i){let t=await O();i(e=>t)}class f{rows;headers;constructor(t,e){this.rows=e,this.headers=t}}async function Y(i,t){let e=await I(i);t(n=>e)}async function Z(i,t,e){let n=await M(i,t);e(d=>new f(ee(n),n))}function ee(i){let t=["PartitionKey","RowKey","TimeStamp"];for(let e of i)for(let n of Object.keys(e))n=="PartitionKey"||n=="RowKey"||n=="TimeStamp"||t.findIndex(d=>d==n)==-1&&t.push(n);return t}N(["click"]);export{re as default};
